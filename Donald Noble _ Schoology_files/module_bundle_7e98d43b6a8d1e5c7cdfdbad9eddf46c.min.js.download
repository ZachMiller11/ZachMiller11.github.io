function extlinkAttach(b){var h=b==document?$(document.body):$(b);if(h.closest(".sExtlink-processed").length){return}h.addClass("sExtlink-processed");var i=window.location.host.replace(/^(([^\/]+?\.)*)([^\.]{4,})((\.[a-z]{1,4})*)$/,"$3$4"),d=window.location.host.replace(/^(([^\/]+?\.)*)([^\.]{4,})((\.[a-z]{1,4})*)$/,"$1"),c=false,f=false,e,a;if(Drupal.settings.extlink.extSubdomains){e="([^/]*.)?"}else{if(d=="www."||d==""){e="(www.)?"}else{e=d.replace(".",".")}}a=new RegExp("^https?://"+e+i+"/","i");if(Drupal.settings.extlink.extInclude){c=new RegExp(Drupal.settings.extlink.extInclude.replace(/\\/,"\\"))}if(Drupal.settings.extlink.extExclude){f=new RegExp(Drupal.settings.extlink.extExclude.replace(/\\/,"\\"))}function g(j){var j=j.toLowerCase();if(j.indexOf("http")!==0){return false}if(j.match(a)&&!(c&&j.match(c))){return false}if(f&&j.match(f)){return false}return true}h.on("click","a",function(l){var j=$(this),k=this.href;if(j.hasClass("s-extlink-direct")){return}if(g(k)){l.preventDefault();
window.open("/link?path="+encodeURIComponent(j.attr("href")))}})}Drupal.behaviors.extlink=function(b){if(Drupal.settings.extlinkExtras&&Drupal.settings.extlinkExtras.disabled){return}if(typeof sAppLdbGetSecurityLevel=="undefined"){extlinkAttach(b)}else{if(typeof sAppLdbGetSecurityLevel!="undefined"&&sAppLdbGetSecurityLevel()!="restricted"){extlinkAttach(b)}}var a=sCommonGetSetting("extlink","mailtoClass");if(a){$("a:not(.sExtlink-processed)",b).addClass("sExtlink-processed").each(function(){var d=$(this),c=d.attr("href")||"";if(c.indexOf("mailto:")===0&&d.find("img:first").length===0){d.addClass(a);if(d.css("display")=="inline"){d.after("<span class="+a+"></span>")}}})}};Drupal.behaviors.popups=function(b){Popups.saveSettings();var c=$("body");if(!c.hasClass("popups-processed")){c.addClass("popups-processed");$(document).bind("keydown",Popups.keyHandle);var a=$("#popit");if(a.length){a.remove();Popups.message(a.html())}}if(Drupal.settings.popups&&Drupal.settings.popups.links){jQuery.each(Drupal.settings.popups.links,function(e,d){Popups.attach(b,e,Popups.options(d))
})}Popups.attach(b,".popups",Popups.options({updateMethod:"none"}));Popups.attach(b,".popups-form",Popups.options({updateMethod:"ajax"}));Popups.attach(b,".popups-form-reload",Popups.options({updateMethod:"reload"}));Popups.attach(b,".popups-form-noupdate",Popups.options({updateMethod:"none"}))};Popups=function(){};Popups.popupStack=[];Popups.addedCSS=[];Popups.addedJS=[];Popups.originalSettings=null;Popups.originalSettingsStack=[];Popups.ajaxHeaders={"X-Drupal-Render-Mode":"json/popups","Cache-Control":"no-store, no-cache, must-revalidate, post-check=0, pre-check=0"};Popups.defaultOptions={doneTest:null,updateMethod:"ajax",onUpdate:"",updateSource:"initial",href:null,width:null,targetSelectors:null,titleSelectors:null,reloadOnError:false,noMessage:false,forceShowNextActivePopup:false,skipDirtyCheck:false,hijackDestination:true,extraClass:"",ajaxForm:true,disableCursorMod:false,disableAttachBehaviors:false,formOnSubmit:null,disableInputFocus:false,fullScreen:false,hideActive:true,disableRedirectLogging:false,angularScope:null,angularElement:null};
Popups.Popup=function(){this.id="popups-"+Popups.nextCounter();this.parent=null;this.path=null;this.element=null;this.options=null};Popups.Popup.prototype.$popup=function(){return $("#"+this.id)};Popups.Popup.prototype.$popupBody=function(){return $("#"+this.id+" .popups-body")};Popups.Popup.prototype.$popupClose=function(){return $("#"+this.id+" .popups-close")};Popups.Popup.prototype.$popupTitle=function(){return $("#"+this.id+" .popups-title")};Popups.Popup.prototype.$popupButtons=function(){return $("#"+this.id+" .popups-buttons")};Popups.Popup.prototype.$popupFooter=function(){return $("#"+this.id+" .popups-footer")};Popups.Popup.prototype.fill=function(c,a,b){return $(Drupal.theme("popupDialog",this.id,c,a,b))};Popups.Popup.prototype.hide=function(){this.$popup().css("left","-9999px")};Popups.Popup.prototype.show=function(){Popups.resizeAndCenter(this)};Popups.Popup.prototype.open=function(d,a,c,b){return Popups.open(this,d,a,c,b)};Popups.Popup.prototype.removePopup=function(){Popups.removePopup(this)
};Popups.Popup.prototype.close=function(){return Popups.close(this)};Popups.Popup.prototype.refocus=function(){var b=this.$popup(),a;if(this.disableInputFocus){a=b.find(".popups-close a")}else{a=b.find(":input:visible:enabled:first:not(.popups-no-focus, .s-tinymce-load-editor)");if(!a.length){a=b.find(".popups-close a")}}a.focus()};Popups.Popup.prototype.trapTabKey=function(){var a=this.$popup();a.bind("keydown",function(b){if(b.which===9){Drupal.sAccessibility.trapTabKey(a,b)}})};Popups.Popup.prototype.targetLayerSelector=function(){if(this.parent===null){return"body"}else{return"#"+this.parent.id}};Popups.Popup.prototype.isDone=function(b){var a;if(this.options.doneTest){a=(b===this.options.doneTest||b.match(this.options.doneTest))}else{if(this.parent){a=(b===this.parent.path)}else{b=b.replace(/=(&)|=$/,"$1");Popups.originalSettings.popups.originalPath=Popups.originalSettings.popups.originalPath.replace(/=(&)|=$/,"$1");a=(b===Popups.originalSettings.popups.originalPath);if(!a&&Popups.isset(Popups.originalSettings.popups.addlOriginalPath)){Popups.originalSettings.popups.addlOriginalPath.replace(/=(&)|=$/,"$1");
a=(b===Popups.originalSettings.popups.addlOriginalPath)}}}return a};Popups.isset=function(a){return(typeof(a)!=="undefined")};Popups.activePopup=function(){if(Popups.popupStack.length){return Popups.popupStack[Popups.popupStack.length-1]}else{return null}};Popups.push=function(a){Popups.popupStack.push(a)};Popups.pop=function(a){return Popups.popupStack.pop()};Popups.options=function(b){var a=Popups.defaultOptions;return Popups.overrideOptions(a,b)};Popups.overrideOptions=function(d,e){var a={};for(var b in d){var c;if(Popups.isset(e[b])){a[b]=e[b]}else{a[b]=d[b]}}if(e.noReload||e.noUpdate){a.updateMethod="none"}if(e.reloadWhenDone){a.updateMethod="reload"}if(e.afterSubmit){a.updateMethod="callback";a.onUpdate=e.afterSubmit}if(e.forceReturn){a.doneTest=e.forceReturn}return a};Popups.attach=function(c,a,b){$(a,c).not(".popups-processed").each(function(){var d=$(this);d.addClass("popups-processed");var e="";if(d.attr("title")){e=d.attr("title")+" "}d.attr("title",e);d.click(function(f){return Popups.clickPopupElement(this,b)
})})};Popups.clickPopupElement=function(b,a){Popups.saveSettings();if($(b).attr("on-popups-options")){var e=$.parseJSON($(b).attr("on-popups-options"));a=Popups.overrideOptions(a,e)}var c=Popups.activePopup();var d=!(a.updateMethod==="none"||a.skipDirtyCheck);if(d&&Popups.activeLayerIsEdited()){Popups.offerToSave(b,a,c)}else{Popups.openPath(b,a,c)}return false};Popups.activeLayerIsEdited=function(){var b=Popups.activePopup();var a=Popups.getLayerContext(b);var c=a.find("span.tabledrag-changed").length;return c};Popups.offerToSave=function(d,c,e){var b=new Popups.Popup();var a=Drupal.t("There are unsaved changes in the form, which you will lose if you continue.");var f={popup_save:{title:Drupal.t("Save Changes"),func:function(){Popups.saveFormOnLayer(d,c,e)}},popup_submit:{title:Drupal.t("Continue"),func:function(){b.removePopup();Popups.openPath(d,c,e)}},popup_cancel:{title:Drupal.t("Cancel"),func:function(){b.close()}}};b.open(Drupal.t("Warning: Please Confirm"),a,f)};Popups.open=function(b,h,a,e,d,c){Popups.addOverlay();
if(b){if(!b.options){if(!c){c={}}var g=Popups.options(c);b.options=g}}if(Popups.activePopup()){if(b.options.hideActive){Popups.activePopup().hide()}}if(!b){b=new Popups.Popup()}Popups.push(b);var f=b.fill(h,a,e);b.hide();if(d){f.css("width",d)}if(b.extraClass instanceof Array){b.extraClass=b.extraClass[b.extraClass.length-1]}f.addClass(b.extraClass);$("body").append(f);if(e){jQuery.each(e,function(j,i){$("#"+j).click(i.func)})}b.$popupClose().click(function(){return Popups.close(b)});Popups.resizeAndCenter(b);b.refocus();Popups.removeLoading();$(document).trigger("popups_open_done",[b]);b.element=b.element!=null?b.element:$("body")[0];Drupal.sAccessibility.setLastFocus($(b.element));Drupal.sAccessibility.hideFromAT($("#body"));b.trapTabKey();return b};Popups.resizeAndCenter=function(a){var g=a.$popup();if(a&&a.fullScreen){g.css({width:"100%",height:"100%",top:0,left:0});$("html").css("overflow","hidden");return}var e=g.width();var b=Popups.windowWidth();var d=Math.floor((b/2)-(e/2)+Popups.scrollLeft());
g.css("height","auto");var f=g.height();g.height(f);var h=Popups.windowHeight();var c=((h/2)-(f/2))/2+Popups.scrollTop();g.css("top",c).css("left",d)};Popups.message=function(d,c){c=c||"";var a=new Popups.Popup();var b={popup_ok:{title:Drupal.t("OK"),func:function(){a.close()}}};a.open(d,c,b);return a};Popups.keyHandle=function(a){if(!a){a=window.event}switch(a.keyCode){case 27:Popups.close();break;case 191:if(a.shiftKey&&a.ctrlKey){var b=$("a.popups.more-help");if(b.size()){b.click()}else{Popups.message(Drupal.t("Sorry, there is no additional help for this page"))}}break}};Popups.addOverlay=function(){var a=$("#popups-overlay");if(!a.length){a=$(Drupal.theme("popupOverlay"));a.css("opacity","0.4");var b=$(document);a.width(b.width()).height(b.height());if($.browser.msie&&($.browser.version=="6.0"||$.browser.version=="7.0")){a.css("left",0)}$("body").prepend(a)}};Popups.removeOverlay=function(){if(!Popups.popupStack.length){$("#popups-overlay").remove()}};Popups.addLoading=function(){var c=$("#popups-loading");
if(!c.length){c=$(Drupal.theme("popupLoading"));$("body").prepend(c);var b=c.width();var a=c.height();var e=(Popups.windowWidth()/2)-(b/2)+Popups.scrollLeft();var d=((Popups.windowHeight()/2)-(a/2))/2+Popups.scrollTop();c.css({top:d,left:e,display:"block"})}};Popups.removeLoading=function(){$("#popups-loading").remove()};Popups.removePopup=function(a){if(!Popups.isset(a)){a=Popups.activePopup()}if(a){$(document).trigger("popups_before_remove",[a]);a.$popup().detach();Popups.popupStack.splice(jQuery.inArray(a,Popups.popupStack),1)}};Popups.close=function(a){if(!Popups.isset(a)){a=Popups.activePopup()}$(document).trigger("popups_before_close",[a]);var b=false;Popups.removePopup(a);Popups.removeLoading();if(Popups.activePopup()){b=Popups.activePopup();b.show();b.refocus();Drupal.settings=Popups.originalSettingsStack[b.id]}else{Popups.removeOverlay();Popups.restorePage();if(a&&a.fullScreen){$("html").css("overflow","auto")}}$(document).trigger("popups_close",[a,b]);if(Popups.activePopup()==null){Drupal.sAccessibility.revealToAT($("#body"))
}Drupal.sAccessibility.returnFocus();return false};Popups.saveSettings=function(){if(!Popups.originalSettings){Popups.originalSettings=Drupal.settings}var a=Popups.activePopup();if(a&&typeof Popups.originalSettingsStack[a.id]=="undefined"){Popups.originalSettingsStack[a.id]=Drupal.settings}};Popups.restoreSettings=function(){Drupal.settings=Popups.originalSettings};Popups.restorePage=function(){Popups.restoreSettings();for(var a in Popups.addedCSS){var b=Popups.addedCSS[a];$('style[popups_src="'+jqSelector($(b).attr("href"))+'"]').remove()}Popups.addedCSS=[]};Popups.scrollLeft=function(){return Math.max(document.documentElement.scrollLeft,document.body.scrollLeft)};Popups.scrollTop=function(){return Math.max(document.documentElement.scrollTop,document.body.scrollTop)};Popups.windowHeight=function(){if($.browser.opera&&$.browser.version>"9.5"&&$.fn.jquery<="1.2.6"){return document.documentElement.clientHeight}return $(window).height()};Popups.windowWidth=function(){if($.browser.opera&&$.browser.version>"9.5"&&$.fn.jquery<="1.2.6"){return document.documentElement.clientWidth
}return $(window).width()};Popups.nextCounter=function(){if(this.counter===undefined){this.counter=0}else{this.counter++}return this.counter};Popups.addCSS=function(e){Popups.addedCSS=[];if(Drupal.settings.aggregated_css){var f=Drupal.settings.aggregated_css}else{var f=[]}for(var g in e){for(var d in e[g]){var h=e[g][d];var b=$(h).attr("href");var c=$(h).attr("href_orig");var i=$("head");var a=jQuery.inArray(c,f)!=-1;if(!$('link[href="'+jqSelector(c)+'"]').length&&!a){$.ajax({type:"GET",url:b,async:false,success:function(j){i.append('<style popups_src="'+b+'">'+j+"</style>")}});Popups.addedCSS.push(h)}}}};Popups.addJS=function(js){var scripts=[];var inlines=[];for(var type in js){if(type!="setting"){for(var file in js[type]){if(type=="inline"){inlines.push($(js[type][file]).html())}else{var script=$(js[type][file]).attr("src");var src_orig=$(js[type][file]).attr("src_orig");scripts.push([script,src_orig])}}}}var aggregatedCSS=Drupal.settings.aggregated_css;var aggregatedJS=[];if(Drupal.settings.aggregated_js){jQuery.each(Drupal.settings.aggregated_js,function(k,v){aggregatedJS.push(v.split("?")[0])
})}Drupal.settings=js.setting;Drupal.settings.aggregated_js=aggregatedJS;Drupal.settings.aggregated_css=aggregatedCSS;for(var i in scripts){var script=scripts[i];var src=script[0];var srcOrig=script[1];var checkSrc=srcOrig.split("?")[0];var preloadedJS=jQuery.inArray(checkSrc,aggregatedJS)!=-1;if(!$('script[src="'+jqSelector(srcOrig)+'"]').length&&!preloadedJS&&!Popups.addedJS[srcOrig]){$.ajax({type:"GET",url:src,async:false,success:function(script){eval.apply(window,[script])}});Popups.addedJS[srcOrig]=true}}return inlines};Popups._inlineScriptExists=function(a){return !!($("script:not([src])").filter(function(c,b){return b.innerHTML===a}).length)};Popups.addInlineJS=function(inlines){for(var n in inlines){if(!Popups._inlineScriptExists(inlines[n])){eval(inlines[n])}}};Popups.beforeSend=function(a){};Popups.beforeSubmit=function(c,a,b){$(document).trigger("popups_before_submit",[c,a,b]);Popups.removePopup();Popups.addLoading()};Popups.beforeSerialize=function(a,b){$(document).trigger("popups_before_serialize",[a]);
a.append('<input type="hidden" name="form_origin_popups" id="form_origin_popups" value="1" />')};Popups.openPath=function(d,c,e){Popups.saveSettings();if(!c.disableCursorMod){$("body").css("cursor","wait")}if(!c.nonModal){Popups.addOverlay()}Popups.addLoading();var b=c.href?c.href:d.href;$(document).trigger("popups_open_path",[d,b]);var g={};if(c.hijackDestination){var f;if(e){f=e.path}else{f=Popups.originalSettings.popups.originalPath}b=b.replace(/destination=[^;&]*[;&]?/,"");g.destination=f;if(c.disableRedirectLogging&&g.destination.indexOf("pdrl=1")==-1){g.destination=g.destination+($.inArray("?",g.destination)==-1?"?":"&")+"pdrl=1";if(e){e.path=g.destination}else{Popups.originalSettings.popups.originalPath=g.destination}}}var a={url:b,dataType:"text",data:g,headers:Popups.ajaxHeaders,beforeSend:Popups.beforeSend,success:function(l,i,n){var k=$.parseJSON(l);Popups.addCSS(k.css);var j=Popups.addJS(k.js);var m=k.path+(k.path_query?"?"+k.path_query:"");m=m.replace(/=(&)|=$/,"$1");var h=Popups.openPathContent(m,k.title,k.messages+k.content,d,c,e);
Popups.addInlineJS(j);$(document).trigger("popups_open_path_done",[d,b,h])},complete:function(){$("body").css("cursor","auto")}};var a;if(c.reloadOnError){a.error=function(){location.reload()}}else{a.error=function(h,j,i){Popups.errorMessage(h,j,i,this.url)}}$.ajax(a);return false};Popups.openPathContent=function(g,h,f,d,c,e){var a=new Popups.Popup();a.extraClass=c.extraClass;a.fullScreen=c.fullScreen;a.disableInputFocus=c.disableInputFocus;a.parent=e;a.path=g;a.options=c;a.element=d;Popups.open(a,h,f,null,c.width);delete Drupal.behaviors.tableHeader;delete Drupal.behaviors.teaser;if(!c.disableAttachBehaviors){Drupal.attachBehaviors(a.$popupBody())}a.refocus();var b=$("form",a.$popupBody());if(b.length&&c.ajaxForm){b.ajaxForm({iframe:false,dataType:"text",beforeSubmit:Popups.beforeSubmit,beforeSerialize:Popups.beforeSerialize,headers:Popups.ajaxHeaders,beforeSend:Popups.beforeSend,success:function(k,i,l){var j=$.parseJSON(k);Popups.formSuccess(a,j)},error:function(i,k,j){Popups.errorMessage(i,k,j,this.url,this.data)
}})}else{if(typeof c.formOnSubmit=="function"){b.submit(function(){var i=c.formOnSubmit();return i})}}return a};Popups.formSuccess=function(popup,data){var done=popup.isDone(data.path+(data.path_query?"?"+data.path_query:""));if(!done){Popups.addCSS(data.css);var inlines=Popups.addJS(data.js);Popups.removeLoading();var updatedPopup=Popups.openPathContent(data.path,data.title,data.messages+data.content,popup.element,popup.options,popup.parent);$(document).trigger("popups_form_success_notdone",[updatedPopup,data]);Popups.addInlineJS(inlines)}else{if(popup.options.updateMethod==="callback"&&popup.options.onUpdate){if(typeof popup.options.onUpdate=="function"){var result=popup.options.onUpdate.call(this,data,popup.options,popup.element)}else{var result=eval(popup.options.onUpdate+"(data, popup.options, popup.element)")}if(result===false){return}}if(popup.options.updateMethod==="reload"){if(popup.options.updateSource==="final"){location.href=Drupal.settings.basePath+data.path+(data.path_query?"?"+data.path_query:"")
}else{location.reload()}}else{var showMessage=data.messages&&data.messages.length&&!popup.options.noMessage;if(showMessage){var $next;var attachContext;if(popup.targetLayerSelector()==="body"){$next=$("body").find(Popups.originalSettings.popups.defaultTargetSelector);$next.parents("#main-content-wrapper").find("div.popup-messages-wrapper, div.messages").remove();$next.before('<div class="popup-messages-wrapper">'+data.messages+"</div>");attachContext=$("div.popup-messages-wrapper")}else{$next=$(popup.targetLayerSelector()).find(".popups-body");$next.parents("#main-content-wrapper").find("div.messages").remove();$next.prepend(data.messages);attachContext=$next}Drupal.attachBehaviors(attachContext)}if(popup.options.updateMethod!=="none"){Popups.testContentSelector();Popups.restoreSettings();if(popup.options.targetSelectors){jQuery.each(popup.options.targetSelectors,function(t_new,t_old){if(!isNaN(t_new)){t_new=t_old}var new_content=$(t_new,data.content);if(new_content.length==0&&Popups.isset(data.content_top)){new_content=$(t_new,data.content_top)
}if(new_content.length==0&&Popups.isset(data.content_right)){new_content=$(t_new,data.content_right)}if(new_content.length==0&&Popups.isset(data.content_left)){new_content=$(t_new,data.content_left)}if(new_content.length==0&&Popups.isset(data.content_left_top)){new_content=$(t_new,data.content_left_top)}if(new_content.length==0&&Popups.isset(data.content_top_upper)){new_content=$(t_new,data.content_top_upper)}var $c=$(popup.targetLayerSelector()).find(t_old).html(new_content.html());Drupal.attachBehaviors($c)})}else{var $c=$(popup.targetLayerSelector()).find(Popups.originalSettings.popups.defaultTargetSelector).html(data.content);Drupal.attachBehaviors($c)}}if(popup.options.titleSelectors){jQuery.each(popup.options.titleSelectors,function(){$(""+this).html(data.title)})}Popups.removeLoading();if(!popup.options.forceShowNextActivePopup&&!showMessage){Popups.close()}else{if(Popups.activePopup()){nextActivePopup=Popups.activePopup();nextActivePopup.show();nextActivePopup.refocus();Drupal.settings=Popups.originalSettingsStack[nextActivePopup.id]
}else{Popups.removeOverlay();Popups.restorePage();if(popup&&popup.fullScreen){$("html").css("overflow","auto")}}}}$(document).trigger("popups_form_success",[popup,data])}};Popups.getLayerContext=function(b){var a;if(!b){a=$("body").find(Popups.originalSettings.popups.defaultTargetSelector)}else{a=b.$popupBody()}return a};Popups.saveFormOnLayer=function(f,d,e){var a=Popups.getLayerContext(e);var c=a.find("form");var b={iframe:false,dataType:"text",beforeSubmit:Popups.beforeSubmit,beforeSerialize:Popups.beforeSerialize,headers:Popups.ajaxHeaders,beforeSend:Popups.beforeSend,success:function(j,g,k){var h=$.parseJSON(j);var i=a.html(h.content);Drupal.attachBehaviors(i);Popups.openPath(f,d,e)}};c.ajaxSubmit(b)};Popups.testContentSelector=function(){var b=Popups.originalSettings.popups.defaultTargetSelector;var a=$(b).length;if(a!==1){var c=Drupal.t("The popup content area for this theme is misconfigured.")+"\n";if(a===0){c+=Drupal.t("There is no element that matches ")+'"'+b+'"\n'}else{if(a>1){c+=Drupal.t("There are multiple elements that match: ")+'"'+b+'"\n'
}}c+=Drupal.t('Go to admin/build/themes/settings, select your theme, and edit the "Content Selector" field');alert(c)}};Popups.errorMessage=function(c,h,g,b,e){var f="https://support.schoology.com/hc/en-us/requests/new",a=Drupal.t("New Support Request"),d='<a href="'+f+'">'+a+"</a>";Popups.message(Drupal.t("Unexpected Error"),"<p>"+Drupal.t("Please try again in a few minutes")+'</p><p class="description">'+Drupal.t("If after trying a few times you continue to see this message, please contact the Support Team")+"</p><p>"+d+"</p>");$.post("/popups_error",{popups_error:h,popups_url:b,popups_data:e,popups_status:c.status,popups_response:c.status<300?c.responseText:"",error_type:"popups"})};Drupal.theme.prototype.popupLoading=function(){var a='<div id="popups-loading">';a+='<img src="'+Drupal.settings.basePath+Popups.originalSettings.popups.modulePath+'/ajax-loader.gif" />';a+="</div>";return a};Drupal.theme.prototype.popupOverlay=function(){return'<div id="popups-overlay"></div>'};Drupal.theme.prototype.popupButton=function(a,b){return'<input type="button" value="'+a+'" id="'+b+'" />'
};Drupal.theme.prototype.popupDialog=function(d,g,b,f){var e=Drupal.theme("popupTemplate",d);var c=e.replace("%title",g).replace("%body",b);var a="";if(f){jQuery.each(f,function(i,h){a+=Drupal.theme("popupButton",h.title,i)})}c=c.replace("%buttons",a);return c};Drupal.theme.prototype.popupTemplate=function(a){var b="";b+='<div id="'+a+'" class="popups-box">';b+='  <div class="popups-title">';b+='    <div class="popups-close"><a href="#">'+Drupal.t("Close")+"</a></div>";b+='    <div class="title">%title</div>';b+='    <div class="clear-block"></div>';b+="  </div>";b+='  <div class="popups-body">%body</div>';b+='  <div class="popups-buttons">%buttons</div>';b+='  <div class="popups-footer"></div>';b+="</div>";return b};Drupal.theme.prototype.popupTemplate=function(a){var b="";b+='<div id="'+a+'" class="popups-box" role="dialog">';b+='  <div class="popups-title">';b+='    <div class="popups-close"><a href="javascript://"><span class="visually-hidden">'+Drupal.t("Close")+"</span></a></div>";
b+='    <div class="title">%title</div>';b+='    <div class="clear-block"></div>';b+="  </div>";b+='  <div class="popups-body" tabindex="0">%body</div>';b+='  <div class="popups-buttons tabindex="0">%buttons</div>';b+='  <div class="popups-footer"></div>';b+="</div>";return b};Drupal.behaviors.sUserProfile=function(a){$(".profile-action-links:not(.sUserProfile-processed)",a).addClass("sUserProfile-processed").each(function(){$(this).sActionLinks({hidden:false,wrapper:".profile-action-links"})});$(".avatar-choice:not(.sUserProfile-processed)",a).addClass("sUserProfile-processed").each(function(){var c=$(this).parents("form");var b=$(this);b.bind("click",function(){var d=$(this).attr("id");$("#edit-profile-picture-avatar-choice",c).val(d);submitBtn=$("#edit-submit",c);submitBtn.attr("disabled","disabled");c.submit()})});$(".s-user-network-connections .link-btn:not(.sUserProfile-processed)",a).addClass("sUserProfile-processed").each(function(){var b=$(this);var c=b.parent().parent();b.bind("click",function(){if($(this).hasClass("disabled")){return false
}var d=$(this).attr("href")+"&ajax=true";$.ajax({type:"GET",url:d,dataType:"html",success:function(e){c.html(e);Drupal.attachBehaviors(c.parent())}});return false})});$(".content-top-wrapper .subtitle-wrapper .overflow-toggle-wrapper:not(.sUserProfile-processed)",a).addClass("sUserProfile-processed").each(function(){$(".content-top-wrapper .subtitle-wrapper .overflow-toggle-wrapper .overflow-toggle").click(function(){var e=$(".content-top-wrapper .subtitle-wrapper .schools-wrapper");var d=e.innerWidth()<e[0].scrollWidth;sUserProfileToggleBuildingDisplay(d)});var c=$(".content-top-wrapper .subtitle-wrapper .schools-wrapper");if(c.innerWidth()<c[0].scrollWidth){$(this).removeClass("hidden")}var b=c.height();$(window).on("resize",function(){var d=$(".content-top-wrapper div.subtitle-wrapper .overflow-toggle-wrapper");if(c.innerWidth()<c[0].scrollWidth||c.height()>b){d.removeClass("hidden")}else{d.addClass("hidden")}})})};function sUserProfileToggleBuildingDisplay(d){if(typeof d!=="boolean"){return
}var f=$(".content-top-wrapper div.subtitle-wrapper");var c=$(".content-top-wrapper div.subtitle-wrapper .schools-wrapper");var a=$(".content-top-wrapper div.subtitle-wrapper .overflow-toggle-wrapper");var b=Drupal.t("show all");var e=Drupal.t("collapse list");if(d){c.append(a);$(".overflow-toggle",a).text(e)}else{f.append(a);$(".overflow-toggle",a).text(b)}a.toggleClass("schools-displaying",d);c.toggleClass("schools-displaying",d);f.toggleClass("schools-displaying",d)}Drupal.behaviors.sCommonMediaFileIframeUseRelativeUrl=function(a){var b=/^\/?media\/ifr\/\d+$/;var c=/^\/?media\/ifr_ext$/;$("#main iframe:not(.sCommonMediaFileIframeUseRelativeUrl-processed), .s-page-container iframe:not(.sCommonMediaFileIframeUseRelativeUrl-processed),.template-fields iframe:not(.sCommonMediaFileIframeUseRelativeUrl-processed)",a).addClass("sCommonMediaFileIframeUseRelativeUrl-processed").each(function(){var f=$(this);var h=f.attr("src");var g=document.createElement("a");g.href=h;var e=g.pathname;var d=b.exec(e);
if(!d){d=c.exec(e)}if(d){if(e[0]!=="/"){e="/"+e}if(g.search){e+=g.search}f.attr("src",e)}})};Drupal.behaviors.s_user=function(b){$("#s-user-custom-notifications-form:not(.sUser-processed)").addClass("sUser-processed").each(function(){var d=$(this);var e=$(".select-all",d);e.click(function(){var f=$(this).is(":checked");$(".realm-setting",d).each(function(){$(this).prop("checked",f)})});$(".edit-select-all-wrapper",d).click(function(){$("input",this).click()});$(".realm-setting").each(function(){var f=$(this);f.change(function(){if(!f.attr("checked")&&e.attr("checked")){e.prop("checked",false)}})});$(".cancel-btn",d).click(function(i){var h=$(".setting-name",d).val();var f=$(".original-setting",d).html();$("select[name="+h+"]").selectmenu("value",f);var g=Popups.activePopup();if(g!=null){g.close()}i.preventDefault()})});$(".notifications-header:not(.sUser-processed)").addClass("sUser-processed").each(function(){if(Drupal.settings.s_user!="undefined"&&typeof Drupal.settings.s_user.notif_defaults!="undefined"){var d=Drupal.settings.s_user;
$(".reset-default").click(function(){$("select.notif-setting-select").each(function(){var e=$(this).attr("name");if(typeof d.notif_defaults[e]!="undefined"){$(this).selectmenu("value",d.notif_defaults[e])}})})}});$("#s-user-set-notifications-form:not(.sUser-processed)").addClass("sUser-processed").each(function(){$("select.notif-setting-select").each(function(){var d=$(this);d.selectmenu({style:"dropdown"});d.change(function(){if(d.val()=="2"){var e="/user/custom_notification/"+d.attr("name");Popups.openPath(this,{href:e,ajaxForm:false,extraClass:"popups-custom-notification popups-medium"},window)}})})});$("#s-user-invite-colleague-form:not(.sUser-processed)").addClass("sUser-processed").each(function(){ZeroClipboard.setMoviePath("/sites/all/misc/zeroclipboard/zeroclipboard.swf");var e=new ZeroClipboard.Client();e.setHandCursor(true);var f=$("#invite_link #url").html();f=f.replace(/&amp;/g,"&");e.setText(f);var d='<span class="zclipboard" style="position:absolute;">'+e.getHTML($("#invite_link").outerWidth(),$("#invite_link").outerHeight())+"</span>";
$(".popups-body").append(d);repositionZClipboard();e.addEventListener("complete",function(g,h){if($(".copied-wrapper").length==0){$(".popups-body").append('<span class="copied-wrapper">Link copied to your clipboard</span>')}else{$(".copied-wrapper").show()}setTimeout(function(){$(".copied-wrapper").fadeOut(400,function(){sPopupsResizeCenter()})},2500);sPopupsResizeCenter()});$(".addresses").focus(function(){if($(this).hasClass("pre-fill")){$(this).empty();$(this).removeClass("pre-fill")}repositionZClipboard()});if($("#s-user-invite-colleague-form").hasClass("emails-sent")){$("#s-user-invite-colleague-form").removeClass("emails-sent");$(".popup-invite").addClass("emails-sent");sPopupsResizeCenter()}$("#s-user-invite-colleagues-invite-by-email").bind("click",function(g){$(".popup-invite").addClass("sending-emails");$("#s-user-invite-colleagues-invite-choices,#s-user-invite-colleagues-click-to-copy-link,#s-user-invite-colleagues-click-to-copy-title").fadeOut(300,function(){$("#edit-emails,.s-user-invite-colleagues-invite-by-email-buttons").fadeIn(300,function(){repositionZClipboard()
})});g.preventDefault()});$("#s-user-invite-colleagues-invite-by-email-cancel").unbind("click");$("#s-user-invite-colleagues-invite-by-email-cancel").bind("click",function(g){$(".popup-invite").removeClass("sending-emails");$("#edit-emails,.s-user-invite-colleagues-invite-by-email-buttons").fadeOut(300,function(){$("#s-user-invite-colleagues-invite-choices,#s-user-invite-colleagues-click-to-copy-link,#s-user-invite-colleagues-click-to-copy-title").fadeIn(300,function(){repositionZClipboard()})});g.preventDefault()});$("#s-user-invite-colleagues-fb-button,#s-user-invite-colleagues-twitter-button").click(function(g){window.open($(this).attr("realhref"),"popup","width=650,height=380",false);g.preventDefault();return false})});$("a.show-code").click(function(){var e=$(this).attr("id");var e=e.split("-");var d='<div class="formatted-code">Code: '+e[1]+"</div>";$.prompt(d);return false});$("input#action-select-all").click(function(){var d=$(this);$("#s-user-manage-activation-form table input:checkbox").each(function(){if($(this).attr("checked")){$(d).prop("checked",false);
$(this).prop("checked",false)}else{$(d).prop("checked",true);$(this).prop("checked",true)}})});$("#s-user-edit-calendar-feed-settings-form:not(.sUser-processed)").addClass("sUser-processed").each(function(){$("#webcal-addr",$(this)).focus(function(){document.getElementById("webcal-addr").select()}).mouseup(function(d){d.preventDefault()})});$("#s-user-profile-editor-profile-form:not(.sUser-processed)").addClass("sUser-processed").each(function(){$("textarea",$(this)).elastic();var f=$(".learner-style-wrappper");var d=$("#edit-profile-about-learner-style-0-wrapper",f);var e=$("input[type=radio]",d);d.hide();sCommonFormRadioGroup(f,e)});$("#s-user-personal-account-settings-form:not(.sUser-processed)").addClass("sUser-processed").each(function(){var d=$(this);$(".timezone-select-time .timezone-use-list",d).bind("click",function(){$(this).parent().hide();$(".timezone-select-timezone",d).show();$("#edit-timezone-select-type",d).val("timezone")});$(".timezone-select-timezone .timezone-use-time",d).bind("click",function(){$(this).parent().hide();
$(".timezone-select-time",d).show();$("#edit-timezone-select-type",d).val("time")});$("#edit-user-name-first-preferred").on("keydown paste input",function(i){var k=$(this);var j=!!k.val().length;var h=k.closest(".name-first-preferred-wrapper");var g=$(".use-name-first-preferred-wrapper");var f=!g.hasClass("hidden");if(j!=f){g.toggleClass("hidden",f);h.toggleClass("has-preferred-first-name",j)}})});$(".s-js-name-title-wrapper:not(.sUser-processed)",b).addClass("sUser-processed").each(function(){var d=$(this),e=$(".s-js-name-title-custom",d);$(".s-js-name-title-select",d).change(function(f){if($(this).val()=="custom"){d.addClass("s-js-name-title-custom-enabled")}else{d.removeClass("s-js-name-title-custom-enabled");e.val("")}}).triggerHandler("change")});if($(".logout-exec").text()=="1"){var a=location.href;index=a.indexOf("settings/");var c="/logout?";if(Drupal.settings.s_common.hasOwnProperty("logout_token")){c+="ltoken="+Drupal.settings.s_common.logout_token+"&"}c+="destination=home.php?deleted";
newUrl=a.substring(0,index)+c;location.href=newUrl}$(".profile-picture-wrapper:not(.sUser-processed)",b).addClass("sUser-processed").each(function(){var g=$(this);var e=$(".edit-profile-picture-hover",g);var d=$(".profile-picture",g);var f=$("#profile-picture-uploader-wrapper",g);e.bind("click",function(){if(f.is(":visible")){f.hide()}else{f.show()}});$("body").bind("click",function(i){var h=$(i.target);if(!h.hasClass("profile-picture-wrapper")&&h.parents(".profile-picture-wrapper").length==0){f.hide()}});d.bind("s_profile_picture_uploaded",function(i,h){$("img",$(this)).attr("src",h).removeAttr("height");f.hide()})});$(".push-remove:not(.sUser-processed)",b).addClass("sUser-processed").bind("click",function(g){g.preventDefault();var f=$(this);var d='<span class="confirm-remove-device-name">'+f.siblings(".push-os").html()+"</span>";var h='<span class="confirm-message">'+Drupal.t("Are you sure you want to deactivate !device_name?",{"!device_name":d})+"</span>";sCommonConfirmationPopup({title:Drupal.t("Deactivate Device"),body:h,extraClass:"push-remove",confirm:{text:Drupal.t("Deactivate"),func:function(){$.ajax(f.attr("href"),{data:{ajax:true},success:function(i){if(i.body){$("#content-wrapper").html(i.body);
if(i.messages){var e=$("#main-content-wrapper");e.children(".messages").remove();e.prepend(i.messages)}Drupal.attachBehaviors($("#main-content-wrapper"))}},complete:function(){Popups.activePopup().close()}})}}})})};function repositionZClipboard(){var b=$("#invite_link").offset();var a=$(".popups-box").offset();$(".zclipboard").css("left",b.left-a.left);$(".zclipboard").css("top",b.top-a.top)}eval(function(h,b,i,d,g,f){g=function(a){return(a<b?"":g(parseInt(a/b)))+((a=a%b)>35?String.fromCharCode(a+29):a.toString(36))};if(!"".replace(/^/,String)){while(i--){f[g(i)]=d[i]||g(i)}d=[function(a){return f[a]}];g=function(){return"\\w+"};i=1}while(i--){if(d[i]){h=h.replace(new RegExp("\\b"+g(i)+"\\b","g"),d[i])}}return h}(";(5($){$.B.1s=5(u){2(!4.G){R('1b: 2M 9 2N - 2O 2P 1t');6 4}2(S u=='5')u={T:u};3 v=4.14('1c')||1d.2Q.2R;v=(v.2S(/^([^#]+)/)||[])[1];v=v||'';u=$.1n({1e:v,H:4.14('1u')||'1Q'},u||{});3 w={};4.L('C-1R-1S',[4,u,w]);2(w.1T){R('1b: 9 1U 1o C-1R-1S L');6 4}2(u.1v&&u.1v(4,u)===I){R('1b: 9 1f 1o 1v 1V');6 4}3 a=4.1w(u.2T);2(u.J){u.O=u.J;K(3 n 1x u.J){2(u.J[n]2U 15){K(3 k 1x u.J[n])a.D({7:n,8:u.J[n][k]})}E a.D({7:n,8:u.J[n]})}}2(u.1y&&u.1y(a,4,u)===I){R('1b: 9 1f 1o 1y 1V');6 4}4.L('C-9-1W',[a,4,u,w]);2(w.1T){R('1b: 9 1U 1o C-9-1W L');6 4}3 q=$.1z(a);2(u.H.2V()=='1Q'){u.1e+=(u.1e.2W('?')>=0?'&':'?')+q;u.J=F}E u.J=q;3 x=4,V=[];2(u.2X)V.D(5(){x.1X()});2(u.2Y)V.D(5(){x.1Y()});2(!u.16&&u.17){3 y=u.T||5(){};V.D(5(a){$(u.17).2Z(a).P(y,1Z)})}E 2(u.T)V.D(u.T);u.T=5(a,b){K(3 i=0,M=V.G;i<M;i++)V[i].30(u,[a,b,x])};3 z=$('W:31',4).18();3 A=I;K(3 j=0;j<z.G;j++)2(z[j])A=Q;2(u.20||A){2(u.21)$.32(u.21,1A);E 1A()}E $.33(u);4.L('C-9-34',[4,u]);6 4;5 1A(){3 h=x[0];2($(':W[7=9]',h).G){35('36: 37 22 38 39 3a 3b \"9\".');6}3 i=$.1n({},$.23,u);3 s=$.1n(Q,{},$.1n(Q,{},$.23),i);3 j='3c'+(1B 3d().3e());3 k=$('<20 3f=\"'+j+'\" 7=\"'+j+'\" 24=\"25:26\" />');3 l=k[0];k.3g({3h:'3i',27:'-28',29:'-28'});3 m={1f:0,19:F,1g:F,3j:0,3k:'n/a',3l:5(){},2a:5(){},3m:5(){},3n:5(){4.1f=1;k.14('24','25:26')}};3 g=i.2b;2(g&&!$.1C++)$.1h.L(\"3o\");2(g)$.1h.L(\"3p\",[m,i]);2(s.2c&&s.2c(m,s)===I){s.2b&&$.1C--;6}2(m.1f)6;3 o=0;3 p=0;3 q=h.U;2(q){3 n=q.7;2(n&&!q.1i){u.O=u.O||{};u.O[n]=q.8;2(q.H==\"X\"){u.O[7+'.x']=h.Y;u.O[7+'.y']=h.Z}}}1j(5(){3 t=x.14('17'),a=x.14('1c');h.1k('17',j);2(h.2d('1u')!='2e')h.1k('1u','2e');2(h.2d('1c')!=i.1e)h.1k('1c',i.1e);2(!u.3q){x.14({3r:'2f/C-J',3s:'2f/C-J'})}2(i.1D)1j(5(){p=Q;11()},i.1D);3 b=[];2g{2(u.O)K(3 n 1x u.O)b.D($('<W H=\"3t\" 7=\"'+n+'\" 8=\"'+u.O[n]+'\" />').2h(h)[0]);k.2h('1l');l.2i?l.2i('2j',11):l.3u('2k',11,I);h.9()}3v{h.1k('1c',a);t?h.1k('17',t):x.3w('17');$(b).2l()}},10);3 r=0;5 11(){2(o++)6;l.2m?l.2m('2j',11):l.3x('2k',11,I);3 c=Q;2g{2(p)3y'1D';3 d,N;N=l.2n?l.2n.2o:l.2p?l.2p:l.2o;2((N.1l==F||N.1l.2q=='')&&!r){r=1;o--;1j(11,2r);6}m.19=N.1l?N.1l.2q:F;m.1g=N.2s?N.2s:N;m.2a=5(a){3 b={'3z-H':i.16};6 b[a]};2(i.16=='3A'||i.16=='3B'){3 f=N.1E('1F')[0];m.19=f?f.8:m.19}E 2(i.16=='2t'&&!m.1g&&m.19!=F){m.1g=2u(m.19)}d=$.3C(m,i.16)}3D(e){c=I;$.3E(i,m,'2v',e)}2(c){i.T(d,'T');2(g)$.1h.L(\"3F\",[m,i])}2(g)$.1h.L(\"3G\",[m,i]);2(g&&!--$.1C)$.1h.L(\"3H\");2(i.2w)i.2w(m,c?'T':'2v');1j(5(){k.2l();m.1g=F},2r)};5 2u(s,a){2(1d.2x){a=1B 2x('3I.3J');a.3K='I';a.3L(s)}E a=(1B 3M()).3N(s,'1G/2t');6(a&&a.2y&&a.2y.1p!='3O')?a:F}}};$.B.3P=5(c){6 4.2z().2A('9.C-1q',5(){$(4).1s(c);6 I}).P(5(){$(\":9,W:X\",4).2A('2B.C-1q',5(e){3 a=4.C;a.U=4;2(4.H=='X'){2(e.2C!=12){a.Y=e.2C;a.Z=e.3Q}E 2(S $.B.2D=='5'){3 b=$(4).2D();a.Y=e.2E-b.29;a.Z=e.2F-b.27}E{a.Y=e.2E-4.3R;a.Z=e.2F-4.3S}}1j(5(){a.U=a.Y=a.Z=F},10)})})};$.B.2z=5(){4.2G('9.C-1q');6 4.P(5(){$(\":9,W:X\",4).2G('2B.C-1q')})};$.B.1w=5(b){3 a=[];2(4.G==0)6 a;3 c=4[0];3 d=b?c.1E('*'):c.22;2(!d)6 a;K(3 i=0,M=d.G;i<M;i++){3 e=d[i];3 n=e.7;2(!n)1H;2(b&&c.U&&e.H==\"X\"){2(!e.1i&&c.U==e)a.D({7:n+'.x',8:c.Y},{7:n+'.y',8:c.Z});1H}3 v=$.18(e,Q);2(v&&v.1r==15){K(3 j=0,2H=v.G;j<2H;j++)a.D({7:n,8:v[j]})}E 2(v!==F&&S v!='12')a.D({7:n,8:v})}2(!b&&c.U){3 f=c.1E(\"W\");K(3 i=0,M=f.G;i<M;i++){3 g=f[i];3 n=g.7;2(n&&!g.1i&&g.H==\"X\"&&c.U==g)a.D({7:n+'.x',8:c.Y},{7:n+'.y',8:c.Z})}}6 a};$.B.3T=5(a){6 $.1z(4.1w(a))};$.B.3U=5(b){3 a=[];4.P(5(){3 n=4.7;2(!n)6;3 v=$.18(4,b);2(v&&v.1r==15){K(3 i=0,M=v.G;i<M;i++)a.D({7:n,8:v[i]})}E 2(v!==F&&S v!='12')a.D({7:4.7,8:v})});6 $.1z(a)};$.B.18=5(a){K(3 b=[],i=0,M=4.G;i<M;i++){3 c=4[i];3 v=$.18(c,a);2(v===F||S v=='12'||(v.1r==15&&!v.G))1H;v.1r==15?$.3V(b,v):b.D(v)}6 b};$.18=5(b,c){3 n=b.7,t=b.H,1a=b.1p.1I();2(S c=='12')c=Q;2(c&&(!n||b.1i||t=='1m'||t=='3W'||(t=='1J'||t=='1K')&&!b.1L||(t=='9'||t=='X')&&b.C&&b.C.U!=b||1a=='13'&&b.1M==-1))6 F;2(1a=='13'){3 d=b.1M;2(d<0)6 F;3 a=[],1N=b.3X;3 e=(t=='13-2I');3 f=(e?d+1:1N.G);K(3 i=(e?d:0);i<f;i++){3 g=1N[i];2(g.1t){3 v=g.8;2(!v)v=(g.1O&&g.1O['8']&&!(g.1O['8'].3Y))?g.1G:g.8;2(e)6 v;a.D(v)}}6 a}6 b.8};$.B.1Y=5(){6 4.P(5(){$('W,13,1F',4).2J()})};$.B.2J=$.B.3Z=5(){6 4.P(5(){3 t=4.H,1a=4.1p.1I();2(t=='1G'||t=='40'||1a=='1F')4.8='';E 2(t=='1J'||t=='1K')4.1L=I;E 2(1a=='13')4.1M=-1})};$.B.1X=5(){6 4.P(5(){2(S 4.1m=='5'||(S 4.1m=='41'&&!4.1m.42))4.1m()})};$.B.43=5(b){2(b==12)b=Q;6 4.P(5(){4.1i=!b})};$.B.2K=5(b){2(b==12)b=Q;6 4.P(5(){3 t=4.H;2(t=='1J'||t=='1K')4.1L=b;E 2(4.1p.1I()=='2L'){3 a=$(4).44('13');2(b&&a[0]&&a[0].H=='13-2I'){a.45('2L').2K(I)}4.1t=b}})};5 R(){2($.B.1s.46&&1d.1P&&1d.1P.R)1d.1P.R('[47.C] '+15.48.49.4a(1Z,''))}})(4b);",62,260,"||if|var|this|function|return|name|value|submit||||||||||||||||||||||||||||fn|form|push|else|null|length|type|false|data|for|trigger|max|doc|extraData|each|true|log|typeof|success|clk|callbacks|input|image|clk_x|clk_y||cb|undefined|select|attr|Array|dataType|target|a_fieldValue|responseText|tag|ajaxSubmit|action|window|url|aborted|responseXML|event|disabled|setTimeout|setAttribute|body|reset|extend|via|tagName|plugin|constructor|a_ajaxSubmit|selected|method|beforeSerialize|a_formToArray|in|beforeSubmit|param|fileUpload|new|active|timeout|getElementsByTagName|textarea|text|continue|toLowerCase|checkbox|radio|checked|selectedIndex|ops|attributes|console|GET|pre|serialize|veto|vetoed|callback|validate|a_resetForm|a_clearForm|arguments|iframe|closeKeepAlive|elements|ajaxSettings|src|about|blank|top|1000px|left|getResponseHeader|global|beforeSend|getAttribute|POST|multipart|try|appendTo|attachEvent|onload|load|remove|detachEvent|contentWindow|document|contentDocument|innerHTML|100|XMLDocument|xml|toXml|error|complete|ActiveXObject|documentElement|a_ajaxFormUnbind|bind|click|offsetX|offset|pageX|pageY|unbind|jmax|one|a_clearFields|a_selected|option|skipping|process|no|element|location|href|match|semantic|instanceof|toUpperCase|indexOf|resetForm|clearForm|html|apply|file|get|ajax|notify|alert|Error|Form|must|not|be|named|jqFormIO|Date|getTime|id|css|position|absolute|status|statusText|getAllResponseHeaders|setRequestHeader|abort|ajaxStart|ajaxSend|skipEncodingOverride|encoding|enctype|hidden|addEventListener|finally|removeAttr|removeEventListener|throw|content|json|script|httpData|catch|handleError|ajaxSuccess|ajaxComplete|ajaxStop|Microsoft|XMLDOM|async|loadXML|DOMParser|parseFromString|parsererror|a_ajaxForm|offsetY|offsetLeft|offsetTop|a_formSerialize|a_fieldSerialize|merge|button|options|specified|a_clearInputs|password|object|nodeType|a_enable|parent|find|debug|jquery|prototype|join|call|jQuery".split("|"),0,{}));
Drupal.Ajax=new Object;Drupal.Ajax.plugins={};Drupal.Ajax.firstRun=false;Drupal.Ajax.init=function(a){var c,b;if(c=$(".ajax-form:not(.AjaxProcessed)",a).addClass("AjaxProcessed")){if(!Drupal.Ajax.firstRun){Drupal.Ajax.invoke("init");Drupal.Ajax.firstRun=true}b=$('input[type="submit"]',c);b.click(function(f){var g=$(this);this.form.ajax_activator=g;var d=g.data("beforeSubmitHandler");if(typeof d==="function"){d(f)}return true});c.each(function(){this.ajax_activator=null;$(this).submit(function(){if(this.ajax_activator===null){this.ajax_activator=$(".form-submit",this)}if(this.ajax_activator.hasClass("ajax-trigger")){Drupal.Ajax.go($(this),this.ajax_activator);return false}else{return true}});return true})}return true};Drupal.Ajax.invoke=function(e,b){var d,c,a;a=true;for(d in Drupal.Ajax.plugins){c=Drupal.Ajax.plugins[d](e,b);if(c===false){a=false}}return a};Drupal.Ajax.go=function(a,e){var c,b,d;Drupal.Ajax.invoke("submit",{submitter:e});c=e.val();b=e.attr("name");d={};d[b]=c;d.drupal_ajax="1";
a.a_ajaxSubmit({extraData:d,beforeSubmit:function(f){f[f.length]={name:b,value:c};f[f.length]={name:"drupal_ajax",value:"1"};return true},dataType:"json",error:function(f,h,g){window.alert(Drupal.t("ajax.module: An unknown error has occurred."));$.post("/popups_error",{error:h,status:f.status,response:f.responseText,error_type:"ajax",});if(window.console){console.log("error",arguments)}return true},success:function(f){e.val(c);Drupal.Ajax.response(e,a,f);return true}});return false};Drupal.Ajax.message=function(a,e,d,c){var b;d.local={submitter:e,form:a};if(Drupal.Ajax.invoke("message",d)){Drupal.Ajax.writeMessage(d.local.form,d.local.submitter,c);Drupal.Ajax.invoke("afterMessage",d)}return true};Drupal.Ajax.writeMessage=function(j,b,l){var f,c,a,d,k,g,e;if(l.action==="notify"){$(".messages, .ajax-preview",j).remove();$("input, textarea").removeClass("error status warning required");if(l.type==="preview"){d=$("<div>").addClass("ajax-preview");d.html(l.messages);j.prepend(d)}else{d=$("<ul>");
k=$(".messages."+l.type,j[0]);for(f=0,c=l.messages.length;f<c;f++){a=$("#"+l.messages[f].id,j[0]);a.addClass(l.type);if(l.messages[f].required){a.addClass("required")}d.append("<li>"+l.messages[f].value+"</li>")}if(k.length===0){k=$("<div class='messages "+l.type+"'>");j.prepend(k)}k.html(d)}}else{if(l.action==="clear"){$(".messages, .ajax-preview",j).remove()}}return true};Drupal.Ajax.updater=function(b){var a,c,d;for(a=0,c=b.length;a<c;a++){d=$(b[a].selector);if(b[a].type==="html_in"){d.html(b[a].value)}else{if(b[a].type==="html_out"){d.replaceWith(b[a].value)}else{if(b[a].type==="field"){d.val(b[a].value)}else{if(b[a].type==="remove"){d.remove()}}}}}return true};Drupal.Ajax.response=function(d,a,c){var b;c.local={submitter:d,form:a};if(c.status===false){Drupal.Ajax.updater(c.updaters);Drupal.Ajax.message(a,d,c,{action:"notify",messages:c.messages_error,type:"error"})}else{if(c.preview!==null){Drupal.Ajax.updater(c.updaters);Drupal.Ajax.message(a,d,c,{action:"notify",messages:decodeURIComponent(c.preview),type:"preview"})
}else{if(c.redirect===null){if(c.messages_status.length>0){Drupal.Ajax.message(a,d,c,{action:"notify",messages:c.messages_status,type:"status"})}if(c.messages_warning.length>0){Drupal.Ajax.message(a,d,c,{action:"notify",messages:c.messages_warning,type:"warning"})}if(c.messages_status.length===0&&c.messages_warning.length===0){Drupal.Ajax.message(a,d,c,{action:"clear"})}}else{if(Drupal.Ajax.invoke("redirect",c)){Drupal.Ajax.redirect(c.redirect)}else{Drupal.Ajax.updater(c.updaters);if(c.messages_status.length===0&&c.messages_warning.length===0){Drupal.Ajax.message(a,d,c,{action:"clear"})}else{Drupal.Ajax.message(a,d,c,{action:"notify",messages:c.messages_status,type:"status"})}}}}}return true};Drupal.Ajax.redirect=function(a){window.location.href=a};Drupal.behaviors.Ajax=Drupal.Ajax.init;